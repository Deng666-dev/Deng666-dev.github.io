<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Linux-samba | Vodka 的技术基地</title><meta name="author" content="Vodka"><meta name="copyright" content="Vodka"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Linux中的Samba服务器是一个非常实用的技能，可以让你在Linux和Windows之间轻松共享文件以下提供两种方法  网上 yum 源配置(用于本地网络环境)安装samba包1234# 更新 yum 源  yum update -y# 安装 samba 和 samba-client  yum install samba samba-client samba-common -y  创建目录设">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux-samba">
<meta property="og:url" content="http://example.com/2025/12/24/Linux-samba/index.html">
<meta property="og:site_name" content="Vodka 的技术基地">
<meta property="og:description" content="Linux中的Samba服务器是一个非常实用的技能，可以让你在Linux和Windows之间轻松共享文件以下提供两种方法  网上 yum 源配置(用于本地网络环境)安装samba包1234# 更新 yum 源  yum update -y# 安装 samba 和 samba-client  yum install samba samba-client samba-common -y  创建目录设">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/img/touxiang.png">
<meta property="article:published_time" content="2025-12-24T01:09:43.000Z">
<meta property="article:modified_time" content="2025-12-30T07:13:29.555Z">
<meta property="article:author" content="Vodka">
<meta property="article:tag" content="Linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/touxiang.png"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Linux-samba",
  "url": "http://example.com/2025/12/24/Linux-samba/",
  "image": "http://example.com/img/touxiang.png",
  "datePublished": "2025-12-24T01:09:43.000Z",
  "dateModified": "2025-12-30T07:13:29.555Z",
  "author": [
    {
      "@type": "Person",
      "name": "Vodka",
      "url": "http://example.com"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2025/12/24/Linux-samba/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=5.5.3"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: true,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Linux-samba',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><style>#footer-wrap a { display: none !important; } #footer { padding: 10px 0 !important; background: #3b8bb0; }#footer-wrap { margin-top: 0 !important; }</style><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/touxiang.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">10</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">8</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas  fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 清单</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/img/%E8%83%8C%E6%99%AF5.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Vodka 的技术基地</span></a><a class="nav-page-title" href="/"><span class="site-name">Linux-samba</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  Back to Home</span></span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas  fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 清单</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Linux-samba</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-12-24T01:09:43.000Z" title="Created 2025-12-24 09:09:43">2025-12-24</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-12-30T07:13:29.555Z" title="Updated 2025-12-30 15:13:29">2025-12-30</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Linux-Server/">Linux Server</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><blockquote>
<p><em><strong>Linux中的Samba服务器是一个非常实用的技能，可以让你在Linux和Windows之间轻松共享文件以下提供两种方法</strong></em></p>
</blockquote>
<h1 id="网上-yum-源配置-用于本地网络环境"><a href="#网上-yum-源配置-用于本地网络环境" class="headerlink" title="网上 yum 源配置(用于本地网络环境)"></a>网上 yum 源配置(用于本地网络环境)</h1><h2 id="安装samba包"><a href="#安装samba包" class="headerlink" title="安装samba包"></a>安装samba包</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 更新 yum 源</span></span><br><span class="line">  yum update -y</span><br><span class="line"><span class="comment"># 安装 samba 和 samba-client</span></span><br><span class="line">  yum install samba samba-client samba-common -y</span><br></pre></td></tr></table></figure>

<h2 id="创建目录设置权限"><a href="#创建目录设置权限" class="headerlink" title="创建目录设置权限"></a>创建目录设置权限</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建共享目录(便于主机访问)</span></span><br><span class="line">  <span class="built_in">mkdir</span> -p /srv/samba/share</span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改目录权限</span></span><br><span class="line">  <span class="built_in">chmod</span> -R 777 /srv/samba/share</span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改目录所有者</span></span><br><span class="line">  <span class="built_in">chown</span> -R nobody:nobody /srv/samba/share</span><br></pre></td></tr></table></figure>

<h2 id="配置-Samba-文件"><a href="#配置-Samba-文件" class="headerlink" title="配置 Samba 文件"></a>配置 Samba 文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 备份原文件</span></span><br><span class="line">  <span class="built_in">cp</span> /etc/samba/smb.conf /etc/samba/smb.conf.bak</span><br><span class="line"></span><br><span class="line"><span class="comment"># 编辑文件</span></span><br><span class="line">  vim /etc/samba/smb.conf</span><br></pre></td></tr></table></figure>

<p><span style="color: red; font-weight: bold;">需要密码验证的配置</span></p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[global]</span></span><br><span class="line">    <span class="attr">workgroup</span> = WORKGROUP</span><br><span class="line">    <span class="attr">security</span> = user</span><br><span class="line">    map to <span class="attr">guest</span> = Bad User</span><br><span class="line">    passdb <span class="attr">backend</span> = tdbsam</span><br><span class="line"></span><br><span class="line"><span class="section">[Share]</span></span><br><span class="line">    <span class="attr">comment</span> = My Samba Share</span><br><span class="line">    <span class="attr">path</span> = /srv/samba/share</span><br><span class="line">    <span class="attr">browsable</span> = <span class="literal">yes</span></span><br><span class="line">    <span class="attr">writable</span> = <span class="literal">yes</span></span><br><span class="line">    guest <span class="attr">ok</span> = <span class="literal">no</span></span><br><span class="line">    read <span class="attr">only</span> = <span class="literal">no</span></span><br><span class="line">    valid <span class="attr">users</span> = @smbgroup</span><br></pre></td></tr></table></figure>

<h2 id="创建-Samba-用户"><a href="#创建-Samba-用户" class="headerlink" title="创建 Samba 用户"></a>创建 Samba 用户</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 可创建一个用户组</span></span><br><span class="line">  groupadd smbgroup </span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建系统用户</span></span><br><span class="line"><span class="comment">## -M表示不创建家目录 -s /sbin/nologin 表示该用户不能登录 shell 比较安全</span></span><br><span class="line">  useradd -M -s /sbin/nologin -g smbgroup user1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置 Samba 密码(用于主机连接共享输入)</span></span><br><span class="line">  smbpasswd -a user1</span><br></pre></td></tr></table></figure>

<h2 id="配置防火墙"><a href="#配置防火墙" class="headerlink" title="配置防火墙"></a>配置防火墙</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 放行 samba 服务</span></span><br><span class="line">  firewall-cmd --permanent --add-service=samba</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重载防火墙配置</span></span><br><span class="line">  firewall-cmd --reload</span><br></pre></td></tr></table></figure>

<h2 id="配置-SELinux"><a href="#配置-SELinux" class="headerlink" title="配置 SELinux"></a>配置 SELinux</h2><p><span style="color: red; font-weight: bold;">如不配置 即使权限777也不能访问</span></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方法A:做 Samba 共享目录</span></span><br><span class="line">  <span class="built_in">chcon</span> -t samba_share_t /srv/samba/share</span><br><span class="line"></span><br><span class="line"><span class="comment"># 方法B:如不处理 SELinux 可设置成宽容模式</span></span><br><span class="line">  <span class="built_in">sudo</span> setenforce 0</span><br><span class="line"></span><br><span class="line"><span class="comment">## 启动服务</span></span><br><span class="line">  systemctl start smb nmb</span><br><span class="line">  systemctl <span class="built_in">enable</span> smb nmb</span><br><span class="line"></span><br><span class="line"><span class="comment">## 主机验证</span></span><br><span class="line">打开```win + R``` : 输入 ```\\&lt;Linux IP地址&gt;```</span><br><span class="line">Linux 进入 samba</span><br><span class="line">  smbclient //localhost/Share -U user1</span><br></pre></td></tr></table></figure>

<h1 id="本地-yum-源配置-用于无外网-挂在iso"><a href="#本地-yum-源配置-用于无外网-挂在iso" class="headerlink" title="本地 yum 源配置(用于无外网 挂在iso)"></a>本地 yum 源配置(用于无外网 挂在iso)</h1><h2 id="准备环境"><a href="#准备环境" class="headerlink" title="准备环境"></a>准备环境</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建挂载点目录</span></span><br><span class="line">  <span class="built_in">mkdir</span> /iso</span><br><span class="line"></span><br><span class="line"><span class="comment"># 挂在光盘镜像到目录</span></span><br><span class="line">  mount /dev/cdrom /iso     [临时]</span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;/dev/cdrom /iso iso9660 defaults 0 0&quot;</span> &gt;&gt; /etc/fstab     [永久生效]</span><br></pre></td></tr></table></figure>

<h2 id="配置本地-yum-源文件"><a href="#配置本地-yum-源文件" class="headerlink" title="配置本地 yum 源文件"></a>配置本地 yum 源文件</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 进入 yum 目录</span></span><br><span class="line">  <span class="built_in">cd</span> /etc/yum.repos.d/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建备份目录</span></span><br><span class="line">  <span class="built_in">mkdir</span> -p /etc/yum.repos.d/backup</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将网络源移动到备份目录</span></span><br><span class="line">  <span class="built_in">mv</span> /etc/yum.repos.d/CentOS-* /etc/yum.repos.d/backup</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建新的本地源配置</span></span><br><span class="line">  vim /etc/yum.repos.d/mydev.repo</span><br><span class="line">填入</span><br><span class="line">[mydev]</span><br><span class="line">name=mydev</span><br><span class="line">baseurl=file:///iso</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br><span class="line"></span><br><span class="line">方法二： 可一键生成配置文件</span><br><span class="line"><span class="built_in">cat</span> &gt; /etc/yum.repos.d/dvd.repo &lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">[dvd]</span></span><br><span class="line"><span class="string">name=Local DVD</span></span><br><span class="line"><span class="string">baseurl=file:///iso</span></span><br><span class="line"><span class="string">gpgcheck=0</span></span><br><span class="line"><span class="string">enabled=1</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure>

<h2 id="刷新-yum-缓存"><a href="#刷新-yum-缓存" class="headerlink" title="刷新 yum 缓存"></a>刷新 yum 缓存</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 清理旧缓存</span></span><br><span class="line">  yum clean all</span><br><span class="line"></span><br><span class="line"><span class="comment"># 建立新缓存</span></span><br><span class="line">  yum makecache</span><br></pre></td></tr></table></figure>

<h2 id="安装-Samba"><a href="#安装-Samba" class="headerlink" title="安装 Samba"></a>安装 Samba</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装</span></span><br><span class="line">  yum install samba -y</span><br><span class="line"></span><br><span class="line"><span class="comment"># 检查安装</span></span><br><span class="line">  rpm -qa | grep samba</span><br></pre></td></tr></table></figure>

<h1 id="配置阿里云-yum-源"><a href="#配置阿里云-yum-源" class="headerlink" title="配置阿里云 yum 源"></a>配置阿里云 yum 源</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 备份原配置</span></span><br><span class="line">  <span class="built_in">mv</span> /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.bak</span><br><span class="line"></span><br><span class="line"><span class="comment">## 下载阿里云</span></span><br><span class="line">  wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo</span><br><span class="line"></span><br><span class="line"><span class="comment">## 安装</span></span><br><span class="line">  yum clean all &amp;&amp; yum makecache</span><br><span class="line">  yum install samba -y</span><br></pre></td></tr></table></figure>

<h1 id="一些命令："><a href="#一些命令：" class="headerlink" title="一些命令："></a>一些命令：</h1><p>put 本地文件名   把Linux本地文件传进共享<br>get 远程文件名   把共享里的文件拉回本地</p>
<p>wget命令:非交互式网络下载工具,可在后台运行<br>wget 【选项】【参数】<br>常用用法是命令后面直接跟软件包地址<br>-P指定下载目录<br>-O 指定保存文件名<br>-c 断点续传<br>-b 后台下载</p>
<p>curl命令:传输数据(文件上传下载、表单提交、cookie处理)<br>curl【选项】【参数】<br>-o 将输出保存到文件<br>-O 使用远程文件名<br>-s保存静默模式（不显示进度）<br>-v显示详细通信过程</p>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Linux/">Linux</a></div><div class="post-share"><div class="social-share" data-image="/img/touxiang.png" data-sites="facebook,x,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2025/12/24/Linux-%E5%9F%BA%E7%A1%80/" title="Linux 基础"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">Linux 基础</div></div><div class="info-2"><div class="info-item-1">在初学Linux文件系统中 会看见很多目录文件 而且每个目录文件下存放的信息都不一样 所以这里做个归纳 系统启动&amp;二进制文件&#x2F;bin:用户可用 启动时会用到的命令 即使系统没有挂载 也能使用 &#x2F;boot:存放启动Linux系统所需的核心文件内容:Kernel              :通常以 vmlinuz 开头的文件Initrd&#x2F;Initramfs    :初始化内存盘镜像Bootloader          :如 GRUB 的配置文件(&#x2F;boot&#x2F;grub&#x2F;grub.cfg)如删除了目录文件 系统将无法启动 &#x2F;sbin:存放root使用的系统管理目录内容:iptabk.reboot.fdisk.ifconfig &#x2F;lib &amp; lib64:存放两者中二进制文件运行所需的共享库文件 配置文件与用户数据&#x2F;etc:系统主要的配置文件目录&#x2F;etc&#x2F;passwd:用户账号信息&#x2F;etc&#x2F;shadow:用户密码信息&#x2F;etc&#x2F;...</div></div></div></a><a class="pagination-related" href="/2025/12/22/CTF-MISC/" title="CTF-MISC-common"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">CTF-MISC-common</div></div><div class="info-2"><div class="info-item-1">头部文件16进制编码png 文件头：89504E47 0D0A1A0A 0000000D 49484452   文件尾：00000000 49454E44 AE426082jpg 文件头：FF D8 FF E0 00 10 4A 46 49 46 00 01gif 文件头：47 49 46 38 39 61（GIF89A）或 47 49 46 38 37 61（GIF87A）    文件尾：00 3Bbmp 文件头：42 4Dpsd 文件头：38 42 50 53TIFF 文件头：49 49 2A 00 mp3 文件头：49 44 33 03 00 00 00 00wav 文件头：57 41 56 45 或 52 49 46 46mid 文件头：4D 54 68 64avi 文件头：41 56 49 20mov 文件头：00 00 00 20 66 74 79 70 71 74 20 20 20 05 03 00swf 文件头：46 57 53 08 AC 43 00 00 pyc 文件头：03 F3 0D 0AMS-Office2003 文件头：D0 CF 11 E0xml 文...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2025/12/24/Linux-%E5%9F%BA%E7%A1%80/" title="Linux 基础"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-24</div><div class="info-item-2">Linux 基础</div></div><div class="info-2"><div class="info-item-1">在初学Linux文件系统中 会看见很多目录文件 而且每个目录文件下存放的信息都不一样 所以这里做个归纳 系统启动&amp;二进制文件&#x2F;bin:用户可用 启动时会用到的命令 即使系统没有挂载 也能使用 &#x2F;boot:存放启动Linux系统所需的核心文件内容:Kernel              :通常以 vmlinuz 开头的文件Initrd&#x2F;Initramfs    :初始化内存盘镜像Bootloader          :如 GRUB 的配置文件(&#x2F;boot&#x2F;grub&#x2F;grub.cfg)如删除了目录文件 系统将无法启动 &#x2F;sbin:存放root使用的系统管理目录内容:iptabk.reboot.fdisk.ifconfig &#x2F;lib &amp; lib64:存放两者中二进制文件运行所需的共享库文件 配置文件与用户数据&#x2F;etc:系统主要的配置文件目录&#x2F;etc&#x2F;passwd:用户账号信息&#x2F;etc&#x2F;shadow:用户密码信息&#x2F;etc&#x2F;...</div></div></div></a><a class="pagination-related" href="/2025/12/29/web%E9%98%B2%E5%BE%A1-Nginx%E5%8A%AB%E6%8C%81%E4%B8%8EXSS/" title="web防御:Nginx配置防御点击劫持(Clickjacking)与XSS"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-29</div><div class="info-item-2">web防御:Nginx配置防御点击劫持(Clickjacking)与XSS</div></div><div class="info-2"><div class="info-item-1"> web 安全不仅靠代码 其实 web Nginx 配置也是一道防线  开始前可以安全初始化一下 : 运行脚本移除默认的测试数据库和匿名用户1sudo mysql_secure_installation Set root password? [Y&#x2F;n] -&gt; Y (设置一个强密码) Remove anonymous users? [Y&#x2F;n] -&gt; Y Disallow root login remotely? [Y&#x2F;n] -&gt; Y Remove test database? [Y&#x2F;n] -&gt; Y Reload privilege tables now? [Y&#x2F;n] -&gt; Y 数据库加固只是第一步，作为 Web 服务器的大门，Nginx 的 HTTP 响应头配置往往被忽视，但它能有效防御客户端攻击 配置完相关的内容后 可以部署WordPress 并配置 Nginx 防御(这里直接上重点)1234567891011# 防御点击劫持## 禁止别人的 &lt;iframe&gt; 嵌入 防止黑客把我的网站套在...</div></div></div></a><a class="pagination-related" href="/2025/12/29/Linux-%E5%8A%A0%E5%9B%BA-%E5%AF%B9Ubuntu%E9%85%8D%E7%BD%AESSH%E4%B8%8EUFW/" title="Linux 加固:对Ubuntu配置SSH与UFW"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-29</div><div class="info-item-2">Linux 加固:对Ubuntu配置SSH与UFW</div></div><div class="info-2"><div class="info-item-1"> 对裸机Ubuntu进行加固 使用的是SSH安全加固(防止爆破 直接禁止root远程) 改端口(放扫描)  SSH 暴力破解防护### 一般来说默认的22端口充满了脚本小子写的扫描脚本，所以就修改端口禁止root远程登录，端口虽然不能杜绝黑客，但能过滤99%的自动化脚本  12# 编辑配置文件sudo vim /etc/ssh/sshd_config  1234## 修改内容Port 2222   # 可以改为一个不常用的端口 如2222PermitRootLogin no  # 禁止root用户直接远程登录(限制sudo)PubkeyAuthentication yes    # 公钥认证(视情况)  12# 重启一下sudo systemctl restart ssh  UFW 策略(默认拒绝，只开白名单)1234567891011# 默认拒绝所有进入的流量    sudo ufw default deny incoming# 允许自己设置的ssh新端口:必须设置 生怕把自己关外面 结果访问不了到处排错    sudo ufw allow 2222/tcp# web服务端口 ...</div></div></div></a><a class="pagination-related" href="/2025/12/29/%E8%87%AA%E5%8A%A8%E9%98%B2%E5%BE%A1-%E7%94%A8Fail2Ban%E5%B0%81%E9%94%81IP/" title="自动防御:用Fail2Ban封锁IP"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-29</div><div class="info-item-2">自动防御:用Fail2Ban封锁IP</div></div><div class="info-2"><div class="info-item-1"> 即使改了端口 还是有人扫怎么办？ 这时就需要雇一个保安 24小时盯防  为何安装 Fail2Ban？(测试环境) 安装 Fail2Ban ：防暴力破解神器12345sudo apt updatesudo apt install fail2ban -ysudo systemctl start fail2bansudo systemctl enable fail2ban# 默认配置就能防 SSH 爆破 有其他更高的要求可以对应更改配置  创建配置文件1sudo vim /etc/fail2ban/jail.local   开启服务12sudo systemctl restart fail2bansudo fail2ban-client status sshd   进行实操 物理机ssh连接这里我修改过端口为2222 所以必须指定port &#x3D; 2222  这里可以看见finalshell也给我封了 一般ip指向都是同网段且为虚拟网卡ip  现在我们进 Ubuntu 查看封杀 ip12# 查看被封ipsudo fail2ban-client status sshd  12# ...</div></div></div></a><a class="pagination-related" href="/2025/12/18/Linux-centos-%E6%90%AD%E5%BB%BAMySql8-x%E6%9C%8D%E5%8A%A1/" title="Linux.centos 搭建MySql8.x服务"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2025-12-18</div><div class="info-item-2">Linux.centos 搭建MySql8.x服务</div></div><div class="info-2"><div class="info-item-1">环境准备 解决centos低版本源失效问题123456789# 备份旧的yum源配置  mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup# 下载阿里云的 centos 7 镜像源配置  curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo# 清理缓存并生成新缓存 让系统识别新源  yum clean all  yum makecache  安装 MySql 配置yum仓库12345678# 安装Mysql官方 yum源	# 告诉Linux去哪里找mysql的安装包  rpm -Uvh https://dev.mysql.com/get/mysql80-community-release-el7-11.noarch.rpm# 导入最新的 GPG 密钥	# 解决&quot;GPG keys are not correct&quot;报错，确保安装包验证通过  ...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/img/touxiang.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Vodka</div><div class="author-info-description"></div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">10</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">5</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">8</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Deng666-dev"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="mailto:597673026@qq.com" target="_blank" title="Email"><i class="fab fa-envelope"></i></a><a class="social-icon" href="tencent://AddContact/?fromId=50&amp;fromSubId=1&amp;subcmd=all&amp;uin=671642013" target="_blank" title="QQ"><i class="fab fa-qq"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">欢迎来到 Vodka 的技术基地！ 本网站涵盖自己所学的所有知识点 学习交流：eduaimonia.yg@gmail.com</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BD%91%E4%B8%8A-yum-%E6%BA%90%E9%85%8D%E7%BD%AE-%E7%94%A8%E4%BA%8E%E6%9C%AC%E5%9C%B0%E7%BD%91%E7%BB%9C%E7%8E%AF%E5%A2%83"><span class="toc-number">1.</span> <span class="toc-text">网上 yum 源配置(用于本地网络环境)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85samba%E5%8C%85"><span class="toc-number">1.1.</span> <span class="toc-text">安装samba包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%9B%AE%E5%BD%95%E8%AE%BE%E7%BD%AE%E6%9D%83%E9%99%90"><span class="toc-number">1.2.</span> <span class="toc-text">创建目录设置权限</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-Samba-%E6%96%87%E4%BB%B6"><span class="toc-number">1.3.</span> <span class="toc-text">配置 Samba 文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-Samba-%E7%94%A8%E6%88%B7"><span class="toc-number">1.4.</span> <span class="toc-text">创建 Samba 用户</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E9%98%B2%E7%81%AB%E5%A2%99"><span class="toc-number">1.5.</span> <span class="toc-text">配置防火墙</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-SELinux"><span class="toc-number">1.6.</span> <span class="toc-text">配置 SELinux</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9C%AC%E5%9C%B0-yum-%E6%BA%90%E9%85%8D%E7%BD%AE-%E7%94%A8%E4%BA%8E%E6%97%A0%E5%A4%96%E7%BD%91-%E6%8C%82%E5%9C%A8iso"><span class="toc-number">2.</span> <span class="toc-text">本地 yum 源配置(用于无外网 挂在iso)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%86%E5%A4%87%E7%8E%AF%E5%A2%83"><span class="toc-number">2.1.</span> <span class="toc-text">准备环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%9C%AC%E5%9C%B0-yum-%E6%BA%90%E6%96%87%E4%BB%B6"><span class="toc-number">2.2.</span> <span class="toc-text">配置本地 yum 源文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%B7%E6%96%B0-yum-%E7%BC%93%E5%AD%98"><span class="toc-number">2.3.</span> <span class="toc-text">刷新 yum 缓存</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Samba"><span class="toc-number">2.4.</span> <span class="toc-text">安装 Samba</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E9%98%BF%E9%87%8C%E4%BA%91-yum-%E6%BA%90"><span class="toc-number">3.</span> <span class="toc-text">配置阿里云 yum 源</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E4%BA%9B%E5%91%BD%E4%BB%A4%EF%BC%9A"><span class="toc-number">4.</span> <span class="toc-text">一些命令：</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/29/%E8%87%AA%E5%8A%A8%E9%98%B2%E5%BE%A1-%E7%94%A8Fail2Ban%E5%B0%81%E9%94%81IP/" title="自动防御:用Fail2Ban封锁IP">自动防御:用Fail2Ban封锁IP</a><time datetime="2025-12-29T12:50:51.000Z" title="Created 2025-12-29 20:50:51">2025-12-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/29/web%E9%98%B2%E5%BE%A1-Nginx%E5%8A%AB%E6%8C%81%E4%B8%8EXSS/" title="web防御:Nginx配置防御点击劫持(Clickjacking)与XSS">web防御:Nginx配置防御点击劫持(Clickjacking)与XSS</a><time datetime="2025-12-29T12:49:31.000Z" title="Created 2025-12-29 20:49:31">2025-12-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/29/Linux-%E5%8A%A0%E5%9B%BA-%E5%AF%B9Ubuntu%E9%85%8D%E7%BD%AESSH%E4%B8%8EUFW/" title="Linux 加固:对Ubuntu配置SSH与UFW">Linux 加固:对Ubuntu配置SSH与UFW</a><time datetime="2025-12-29T12:48:14.000Z" title="Created 2025-12-29 20:48:14">2025-12-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/24/Linux-%E5%9F%BA%E7%A1%80/" title="Linux 基础">Linux 基础</a><time datetime="2025-12-24T01:30:13.000Z" title="Created 2025-12-24 09:30:13">2025-12-24</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/12/24/Linux-samba/" title="Linux-samba">Linux-samba</a><time datetime="2025-12-24T01:09:43.000Z" title="Created 2025-12-24 09:09:43">2025-12-24</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 By Vodka</span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="Toggle Between Traditional and Simplified Chinese">2</button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.3"></script><script src="/js/main.js?v=5.5.3"></script><script src="/js/tw_cn.js?v=5.5.3"></script><div class="js-pjax"></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>